<html>
<head>
<!-- #BeginEditable "doctitle" -->
<title>共享的世界</title>
<!-- #EndEditable --> 
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">

<STYLE type=text/css>
<!--
a:link {  color: #0033cc; text-decoration: none}
a:visited {  color: #0033cc;  text-decoration: none}
a:hover {  color: #ff0033; text-decoration: underline}
-->
</STYLE>

</head>

<body bgcolor="#FFFFFF" text="#000000" background="../img/background/lzybg01.jpg">
<table width="100%" cellspacing="0" cellpadding="0" height="20">
  <tr> 
    <td height="10" width="8%"><!-- #BeginEditable "top" --><!-- #EndEditable --></td>
    <td bgcolor="#66CCFF" height="10" width="2%"></td>
    <td height="10" width="4%"></td>
    <td bgcolor="#66CCFF" height="10" width="2%"></td>
    <td height="10" width="20%"></td>
    <td bgcolor="#66CCFF" height="10" width="2%"></td>
    <td height="10"></td>
    <td height="20" rowspan="2" width="28%" bgcolor="#66CCFF"><!-- #BeginEditable "title1" --> 
      <div align="right"><font color="#990000"><b><font color="#FFFFFF">｜</font></b></font><font size="2" color="#990000">　</font><font size="2"><A 
      href="http://www.zy816.com/lzhiy0816/#" 
      onclick="this.style.behavior='url(#default#homepage)';this.setHomePage('http://www.zy816.com/lzhiy0816/');return(false);" 
      style="BEHAVIOR: url(#default#homepage)">设为首页</a></font><font size="2" color="#990000">　</font><font color="#990000"><b><font color="#FFFFFF">|</font></b></font><font size="2" color="#990000">　</font><font size="2"><a href="javascript:window.external.AddFavorite('http://www.zy816.com','共享的世界')">加入收藏</a></font><font size="2" color="#990000">　</font><font color="#990000"><b><font color="#FFFFFF">|</font></b></font></div>
      <!-- #EndEditable --></td>
  </tr>
  <tr> 
    <td height="9" colspan="7" bgcolor="#66CCFF"></td>
  </tr>
</table>
<table width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="200" height="60"><img src="../img/lzy/lzylogo.gif" width="128" height="60"></td>
    <td><!-- #BeginEditable "welcome" --><!-- #EndEditable --></td>
  </tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" height="20">
  <tr> 
    <td bgcolor="#66CCFF" width="200"><font size="2"> 
      <script language="JavaScript">
<!--
tmpDate = new Date();
date = tmpDate.getDate();
month= tmpDate.getMonth() + 1 ;
year= tmpDate.getYear();
document.write(year);
document.write("年");
document.write(month);
document.write("月");
document.write(date);
document.write("日 ");

myArray=new Array(6);
myArray[0]="星期日"
myArray[1]="星期一"
myArray[2]="星期二"
myArray[3]="星期三"
myArray[4]="星期四"
myArray[5]="星期五"
myArray[6]="星期六"
weekday=tmpDate.getDay();
if (weekday==0 | weekday==6)
{
document.write(myArray[weekday])
}
else
{document.write(myArray[weekday])
};
// -->
</script>
      </font></td>
    <td bgcolor="#66CCFF"><!-- #BeginEditable "title2" --> 
      <div align="right"><b><font color="#FFFFFF">|　</font></b><font size="2"><a href="../index.htm">首 
        页</a></font><b><font color="#FFFFFF">　|</font><b><font color="#FFFFFF">　</font></b></b><font size="2"><a href="#">主 
        页</a></font><b><b><font color="#FFFFFF">　| </font></b></b><font size="2"><a href="http://www.zy816.com/bbs/">BBS论坛</a> 
        </font><b><font color="#FFFFFF">|</font></b><font size="2"> </font></div>
      <!-- #EndEditable --></td>
  </tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" height="4">
  <tr>
    <td></td>
  </tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" height="1">
  <tr>
    <td width="30%"></td>
    <td width="70%" bgcolor="#FF0000"></td>
  </tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" height="6">
  <tr>
    <td></td>
  </tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" height="2">
  <tr>
    <td bgcolor="#FFCC00"></td>
  </tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="25%" height="305" valign="top"><!-- #BeginEditable "title" --> 
      <table width="100%" border="0" cellspacing="0" cellpadding="0" height="287">
        <tr> 
          <td width="12%">&nbsp;</td>
          <td width="88%">&nbsp;</td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/icon2.gif" width="14" height="14"></div>
          </td>
          <td width="88%"> 
            <div align="center"><font color="#990000"><b><font color="#006600">FTP</font></b></font></div>
          </td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/ball-02.gif" width="14" height="14"></div>
          </td>
          <td width="88%"> <font size="2"><a href="ftp01.htm">什么是FTP？</a></font></td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/ball-02.gif" width="14" height="14"></div>
          </td>
          <td width="88%"><font size="2"><a href="ftp02.htm">FTP有什么用？</a></font></td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/ball-02.gif" width="14" height="14"></div>
          </td>
          <td width="88%"><font size="2"><a href="ftp03.htm">建FTP的相关基础知识</a></font></td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/ball-02.gif" width="14" height="14"></div>
          </td>
          <td width="88%"><font size="2"><a href="ftp04.htm">我建FTP服务器全过程</a></font></td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/ball-02.gif" width="14" height="14"></div>
          </td>
          <td width="88%"><font size="2"><a href="ftp05.htm">我的FTP服务器</a></font></td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/icon2.gif" width="14" height="14"></div>
          </td>
          <td width="88%">
            <div align="center"><font color="#990000"><b><font color="#006600">电气</font></b></font></div>
          </td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/ball-02.gif" width="14" height="14"></div>
          </td>
          <td width="88%"><font size="2" color="#FF9900">用PLC、单片机改造LDU012专用机床</font></td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/ball-02.gif" width="14" height="14"></div>
          </td>
          <td width="88%"><font size="2"><a href="ftp07.htm">PLC在DU1909组合镗床上的应用 
            </a></font></td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/ball-02.gif" width="14" height="14"></div>
          </td>
          <td width="88%"><font size="2"><a href="ftp08.htm">非同步装配线的PLC控制系统的改造</a></font></td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/icon2.gif" width="14" height="14"></div>
          </td>
          <td width="88%"> 
            <div align="center"><font color="#990000"><b><font color="#006600">其他</font></b></font></div>
          </td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/ball-02.gif" width="14" height="14"></div>
          </td>
          <td width="88%"><font size="2"><a href="ftp09.htm"> 想要下载精彩视频，其实很简单~!~</a></font></td>
        </tr>
        <tr> 
          <td width="12%"> 
            <div align="center"><img src="../img/inimage/ball-02.gif" width="14" height="14"></div>
          </td>
          <td width="88%"><font size="2"><a href="ftp10.htm">地球的每一角落 任您看！</a></font></td>
        </tr>
      </table>
      <!-- #EndEditable --></td>
    <td height="305" width="2" bgcolor="#FFCC00"></td>
    <td height="305"><!-- #BeginEditable "file" -->
      <table width="90%" border="0" cellspacing="0" cellpadding="0" align="center">
        <tr> 
          <td> 
            <div align="center"> 
              <p>&nbsp;</p>
              <p><b><font color="#FF0000">用PLC、单片机改造LDU012专用机床</font></b></p>
              <p align="left"><font size="2">　　单位的LDU012型立式二工位移动台挺杆孔镗铰机专用机床，是加工汽车发动机汽缸体的主要设备。因生产所需，需要变更该机床的加工工艺，在同仁们的精诚合作下，本人 
                负责对该机床进行电气改造，并取得成功。 </font></p>
            </div>
            <ul>
              <li><font size="2"><a href="#01">用PLC改造</a></font></li>
              <li><font size="2"><a href="#02">用单片机改造</a></font></li>
            </ul>
            <div align="center"> 
              <p align="left"><font size="2"><a name="01"></a><font color="#FF0000"><b> 
                一、用PLC改造</b></font></font> <font size="2"><br>
                　　改造机床，当然要先了解机床的各个控制条件及受控点了，不然机床的输入输出点怎么确定呢（废话，这还用你说！）。 <br>
                　　机床的PLC电气接线部分如下图所示： <br>
                <a href="http://www.zy816.com/ldu012-013/pic01.jpg" target="_blank"> 
                <img src="http://www.zy816.com/ldu012-013/pic01.jpg" width="611" height="521" border="0" alt="点击看大图"> 
                </a> </font> </p>
              <p align="left"><font size="2">　　光知道输入输出点还是不够的，要编制PLC的控制程序，没有机床的加工工艺流程也是不行的。 
                <br>
                　　加工工艺流程如下图所示：</font> <br>
                <a href="http://www.zy816.com/ldu012-013/pic02.jpg" target="_blank"> 
                <img src="http://www.zy816.com/ldu012-013/pic02.jpg" width="611" height="321" border="0" alt="点击看大图"> 
                </a></p>
              <p align="left"><font size="2">　　有了电气接线图及工艺流程图，应该可以编制PLC程序了吧，当然如果你是个顶聪明的人，也许你能够做到，不过我还是认为，编制一张动作状态表，对于PLC控制程序的设 
                计，应该更容易一些。 <br>
                　　根据电气接线图、工艺流程图做出动作状态表如下： <br>
                </font> <a href="http://www.zy816.com/ldu012-013/pic03.jpg" target="_blank"> 
                <img src="http://www.zy816.com/ldu012-013/pic03.jpg" width="611" height="402" border="0" alt="点击看大图"> 
                </a></p>
              <p align="left"><font size="2">　　动作状态表里的B000~B008是辅助功能所需的内部功能继电器，设立方法对于各人来说，可能各有不同，但目的是一样的，就是为了避免在输入条件相同的情况下产生误动作。而输入输出点的动作状态，不用说是肯定的，这是由工艺流程确定的。<br>
                　　动作状态表做出来了，由其而来的逻辑表达式的建立就没有什么困难了。<br>
                　　根据动作状态表，就可以分析出如下的逻辑表达式：</font> <br>
                <a href="http://www.zy816.com/ldu012-013/pic04.jpg" target="_blank"> 
                <img src="http://www.zy816.com/ldu012-013/pic04.jpg" width="611" height="458" border="0" alt="点击看大图"> 
                </a></p>
              <p align="left"><font size="2">　　再根据逻辑表达式，很容易就可画出PLC控制程序的梯形图，如下：</font><br>
                <a href="http://www.zy816.com/ldu012-013/pic05.jpg" target="_blank"> 
                <img src="http://www.zy816.com/ldu012-013/pic05.jpg" width="611" height="699" border="0" alt="点击看大图"> 
                </a></p>
              <p align="left"><font size="2">　　上面的梯形图，只是自动循环的部分，再将手动部分的程序也考虑进去，就做成了一个完整的PLC控制程序的梯形图。用PLC改造机床已获得成功，完整的程序图我就不帖出 
                来了，请见谅！</font></p>
              <p align="left"><font size="2"><a name="02"></a><font color="#FF0000"><b>二、用单片机改造</b></font><br>
                　　单片机在工业上的应用日益广泛，单片机以其体积小、功能强、价格低廉的优点，完全可以取代PLC应用在机床的改造上。<br>
                　　对于这次机床的改造，用单片机进行改造，只是我的一个设想，由于PLC是现成的，所以用单片机改造这个机床，是不现实的。但如果原电气系统是继电器控制的，或是PLC又已经损坏了的，选用单片机进行电气改造，则是最经济的，也是可靠的。<br>
                1、主控电路<br>
                　　由上面的电气接线图可看出，输入输出点共有33个（输入22个、输出11个），单片机I/O口的资源有限，如果不扩展I/O口肯定不够用。扩展后的电路图如下图所示： 
                <br>
                </font> <a href="http://www.zy816.com/ldu012-013/pic06.jpg" target="_blank"> 
                <img src="http://www.zy816.com/ldu012-013/pic06.jpg" width="611" height="355" border="0" alt="点击看大图"> 
                </a></p>
              <p align="left"><font size="2">　　U3、U4、U5是3片74LS244三态输出缓冲器，可以扩展3×8=24路输入信号，我们的输入点是22个，除了转换开关（SA0）和镗头退按钮（SB6）用于中断输入外，余下20个输入点接在3片244的输入端，经过U2芯片74LS138三八译码器的选通后，再由被选通244的输出端送到单片机89C51的P1口输入。<br>
                　　我们的输出点是11个，用2片74LS373（U6、U7）八路数据锁存器就可以扩展单片机的输出口，单片机P0口的输出，是通过U6输出，还是通过U7输出，也是经过U2芯片74LS138三八译码器作出选通的。<br>
                2、输入电路<br>
                　　为了提高系统的抗干扰能力，采用光电隔离技术，因此每个输入点可与任何行程开关和控制按钮相接。4N25是光电耦合器，有输入时，光耦导通，使光敏三极管也导通，输入指示灯（发光二极管LI＊＊）点亮，输入信号送到三态缓冲器244的输入端，由软件将该信号读入。如下图： 
                <br>
                </font> <a href="http://www.zy816.com/ldu012-013/pic07.jpg" target="_blank"> 
                <img src="http://www.zy816.com/ldu012-013/pic07.jpg" width="611" height="491" border="0" alt="点击看大图"> 
                </a></p>
              <p align="left"><font size="2">3、输出电路<br>
                　　输出信号经过光耦后，再经过三极管9012的驱动，可驱动G6B-1174P型电磁继电器，使其触点控制电磁阀或接触器电磁线圈的通断。这里采用光电隔离使系统的工作电源和电磁阀的工作电源分开，减少对系 
                统电源的干扰。发光二极管LO＊＊作为输出指示灯指示用，有输出时输出指示灯点亮。如下图：</font> <br>
                <a href="http://www.zy816.com/ldu012-013/pic08.jpg" target="_blank"> 
                <img src="http://www.zy816.com/ldu012-013/pic08.jpg" width="611" height="488" border="0" alt="点击看大图"> 
                </a> </p>
              <p align="left"><font size="2">4、程序流程图<br>
                　　记得有人问过，编制程序时，是直接编写程序好呢，还是先做出流程图好！当然这是个人能力的问题，不过对于大一些的程序，如果不先做好流程图，在编写程序时可能会出现麻烦。其实，在编制程序前，先画好流程图是一个良好的习惯。（晕，这你也要唠叨！）<br>
                　　程序流程图如下：</font> <br>
                <a href="http://www.zy816.com/ldu012-013/pic09.jpg" target="_blank"> 
                <img src="http://www.zy816.com/ldu012-013/pic09.jpg" width="383" height="596" border="0" alt="点击看大图"> 
                </a></p>
              <p align="left"><font size="2">5、程序的编制<br>
                　　篇幅有限，只给出自动运行部分镗头退程序段的一段程序。其他的我就不再提及了。如下：</font><br>
                <a href="http://www.zy816.com/ldu012-013/pic10.jpg" target="_blank"> 
                <img src="http://www.zy816.com/ldu012-013/pic10.jpg" width="611" height="370" border="0" alt="点击看大图"> 
                </a></p>
              <p align="right"><font size="2"><a href="#top"><br>
                （回顶部）</a></font></p>
              <p>&nbsp; </p>
             </div>
          </td>
        </tr>
      </table>
      <!-- #EndEditable --></td>
  </tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" height="2">
  <tr>
    <td width="10%"></td>
    <td width="80%" bgcolor="#FFCC00"></td>
    <td width="10%"></td>
  </tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" height="20">
  <tr>
    <td>&nbsp;</td>
  </tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" height="2">
  <tr>
    <td width="15%"></td>
    <td width="70%" bgcolor="#00CC99"></td>
    <td width="15%"></td>
  </tr>
</table>
<table width="60%" border="0" cellspacing="0" cellpadding="0" align="center" height="5%">
  <tr>
    <td>&nbsp;</td>
  </tr>
</table>
<table width="60%" border="0" cellspacing="0" cellpadding="0" align="center">
  <tr>
      <td width="5%">&nbsp;</td>
      <td width="18%"><font size="2"><b>共享的世界</b></font></td>
      <td width="72%"><font color="#FF0000"><marquee><i> 
        感谢您的光临！</i></marquee></font></td>
      <td>&nbsp;</td>
    </tr>
  </table>
<table width="60%" border="0" cellspacing="0" cellpadding="0" align="center">
  <tr>
      <td height="4"><img src="../img/line/0173.gif" width="100%" height="4"></td>
    </tr>
  </table>  
<div align="center"><br>
  <font size="2">Copyright<b>&copy;Lzhiy0816</b> All rights reserved</font></div>
</body>
</html>
